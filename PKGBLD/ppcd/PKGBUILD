# Maintainer: peerchemist

pkgname=ppcd
pkgver=0.9.0
pkgrel=8
pkgdesc="An alternative full node Peercoin implementation written in Go"
arch=('x86_64' 'i686' 'armv6h')
url="https://github.com/mably/ppcd"
license=('BSD')
depends=('ppcd-gencerts')
makedepends=('go' 'git')
install='ppcd.install'
source=('ppcd.conf'
         'ppcd.tmpfiles'
         'ppcd.service')

sha256sums=('e1d8354316e16ef3fd65d07dd895342afd5f07e68fb99d13c95daa733d017db3'
            'e89c91a9155283546e3c7c2da5edaad147d3ddce7e64a33efc2804b4e39ef0fc'
            'c2f9cc8cba994613302174e7d7b3462685d2d0afaf94d2737407b3808b81db28')

_gourl="github.com/mably/ppcd"

build() {
  cd "$srcdir"
  msg "go getting source... (this may take a while)"
  GOPATH="$srcdir" go get -u -v -x ${_gourl}
}

package() {
  mkdir -p "$pkgdir/usr/bin"
  install -p -m755 "$srcdir/bin/${pkgname}" "$pkgdir/usr/bin"
  install -Dm640 "ppcd.conf" "$pkgdir/etc/ppcd/ppcd.conf"
  install -Dm644 "ppcd.service" "$pkgdir/usr/lib/systemd/system/ppcd.service"
  install -Dm644 "ppcd.tmpfiles" "$pkgdir/usr/lib/tmpfiles.d/ppcd.conf"
}
